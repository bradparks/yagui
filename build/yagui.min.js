!function(){var t,e,i;return function(o){function n(t,e){return _.call(t,e)}function s(t,e){var i,o,n,s,a,r,d,u,h,l,c,m=e&&e.split("/"),p=C.map,f=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(m=m.slice(0,m.length-1),t=t.split("/"),a=t.length-1,C.nodeIdCompat&&x.test(t[a])&&(t[a]=t[a].replace(x,"")),t=m.concat(t),h=0;h<t.length;h+=1)if(c=t[h],"."===c)t.splice(h,1),h-=1;else if(".."===c){if(1===h&&(".."===t[2]||".."===t[0]))break;h>0&&(t.splice(h-1,2),h-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((m||f)&&p){for(i=t.split("/"),h=i.length;h>0;h-=1){if(o=i.slice(0,h).join("/"),m)for(l=m.length;l>0;l-=1)if(n=p[m.slice(0,l).join("/")],n&&(n=n[o])){s=n,r=h;break}if(s)break;!d&&f&&f[o]&&(d=f[o],u=h)}!s&&d&&(s=d,r=u),s&&(i.splice(0,r,s),t=i.join("/"))}return t}function a(t,e){return function(){return m.apply(o,w.call(arguments,0).concat([t,e]))}}function r(t){return function(e){return s(e,t)}}function d(t){return function(e){g[t]=e}}function u(t){if(n(b,t)){var e=b[t];delete b[t],v[t]=!0,c.apply(o,e)}if(!n(g,t)&&!n(v,t))throw new Error("No "+t);return g[t]}function h(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function l(t){return function(){return C&&C.config&&C.config[t]||{}}}var c,m,p,f,g={},b={},C={},v={},_=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;p=function(t,e){var i,o=h(t),n=o[0];return t=o[1],n&&(n=s(n,e),i=u(n)),n?t=i&&i.normalize?i.normalize(t,r(e)):s(t,e):(t=s(t,e),o=h(t),n=o[0],t=o[1],n&&(i=u(n))),{f:n?n+"!"+t:t,n:t,pr:n,p:i}},f={require:function(t){return a(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:l(t)}}},c=function(t,e,i,s){var r,h,l,c,m,C,_=[],w=typeof i;if(s=s||t,"undefined"===w||"function"===w){for(e=!e.length&&i.length?["require","exports","module"]:e,m=0;m<e.length;m+=1)if(c=p(e[m],s),h=c.f,"require"===h)_[m]=f.require(t);else if("exports"===h)_[m]=f.exports(t),C=!0;else if("module"===h)r=_[m]=f.module(t);else if(n(g,h)||n(b,h)||n(v,h))_[m]=u(h);else{if(!c.p)throw new Error(t+" missing "+h);c.p.load(c.n,a(s,!0),d(h),{}),_[m]=g[h]}l=i?i.apply(g[t],_):void 0,t&&(r&&r.exports!==o&&r.exports!==g[t]?g[t]=r.exports:l===o&&C||(g[t]=l))}else t&&(g[t]=i)},t=e=m=function(t,e,i,n,s){if("string"==typeof t)return f[t]?f[t](e):u(p(t,e).f);if(!t.splice){if(C=t,C.deps&&m(C.deps,C.callback),!e)return;e.splice?(t=e,e=i,i=null):t=o}return e=e||function(){},"function"==typeof i&&(i=n,n=s),n?c(o,t,e,i):setTimeout(function(){c(o,t,e,i)},4),m},m.config=function(t){return m(t)},t._defined=g,i=function(t,e,i){e.splice||(i=e,e=[]),n(g,t)||n(b,t)||(b[t]=[t,e,i])},i.amd={jQuery:!0}}(),i("../tools/almond",function(){}),i("utils/GuiUtils",[],function(){var t={};return t.makeProxy=function(t,e,i){for(var o=t.prototype,n=e.prototype,s=Object.keys(o),a=0,r=s.length;r>a;++a){var d=s[a];n[d]||(n[d]=i?i(o[d]):o[d])}},t.rgbToHsv=function(t){var e=t[0],i=t[1],o=t[2],n=Math.max(e,i,o),s=Math.min(e,i,o);if(s===n)return[0,0,s];var a=e===s?i-o:o===s?e-i:o-e,r=e===s?3:o===s?1:5;return[(r-a/(n-s))/6,(n-s)/n,n]},t.hsvToRgb=function(t){var e=6*t[0],i=t[1],o=t[2],n=Math.floor(e),s=e-n,a=o*(1-i),r=o*(1-s*i),d=o*(1-(1-s)*i),u=n%6;return 0===u?[o,d,a]:1===u?[r,o,a]:2===u?[a,o,d]:3===u?[a,r,o]:4===u?[d,a,o]:[o,a,r]},t.getValidColor=function(t){for(var e=0;3>e;++e)t[e]=Math.max(0,Math.min(1,t[e]));return t},t.getStrColor=function(e){return 3===e.length?t.rgbToHex(e):"rgba("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+","+e[3]+")"},t.getColorMult=function(e,i){return t.getValidColor([e[0]*i,e[1]*i,e[2]*i])},t.getColorAdd=function(e,i){return t.getValidColor([e[0]+i,e[1]+i,e[2]+i])},t.rgbToHex=function(t){for(var e="#",i=0;3>i;++i){var o=Math.round(255*t[i]).toString(16);e+=1===o.length?"0"+o:o}return e},t.hexToRgb=function(t){var e=0;"#"===t[0]&&(t=t.slice(1));var i=t;if(t.length>6)i=t.slice(0,6);else if(t.length<6)for(i="",e=0;3>e;++e)i+=t[e]?t[e]+t[e]:"00";var o=[0,0,0];for(e=0;3>e;++e){var n=parseInt(i[2*e]+i[2*e+1],16);o[e]=(n!==n?0:n)/255}return o},t}),i("widgets/BaseWidget",[],function(){var t=function(){};return t.prototype={_getInitialValue:function(t,e){return"string"!=typeof e?t:t[e]},_getCheckCallback:function(t,e){return"string"!=typeof e?e:function(i){t[e]=i}},_setDomContainer:function(t){this.domContainer=t},setCallback:function(t){this.callback=t},setVisibility:function(t){this.domContainer&&(this.domContainer.hidden=!t)}},t}),i("widgets/Button",["utils/GuiUtils","widgets/BaseWidget"],function(t,e){var i=function(t,e,i){var o=i?e[i].bind(e):e;this.domButton=document.createElement("button"),this.domButton.className="gui-button",this.domButton.innerHTML=t||"",this.domButton.addEventListener("click",this._onClick.bind(this)),this.setCallback(o)};return i.prototype={_onClick:function(){this.callback&&this.callback()}},t.makeProxy(e,i),i}),i("widgets/Checkbox",["utils/GuiUtils","widgets/BaseWidget"],function(t,e){var i=function(t,e){var i=this._getInitialValue(t,e),o=this._getCheckCallback(t,e);this.domCheckbox=document.createElement("input"),this.domCheckbox.className="gui-input-checkbox",this.domCheckbox.type="checkbox",this.domLabelCheckbox=document.createElement("label"),this.setValue(void 0===i?!0:i),this.setCallback(o)};return i.prototype={_onMouseDown:function(){this.setValue(!this.domCheckbox.checked)},setValue:function(t,e){this.domCheckbox.checked=t,!e&&this.callback&&this.callback(t)},getValue:function(){return this.domCheckbox.checked}},t.makeProxy(e,i),i}),i("widgets/Color",["utils/GuiUtils","widgets/BaseWidget"],function(t,e){var i=["-moz-","-o-","-webkit-","-ms-",""],o=function(e,i){var o=this._getInitialValue(e,i),n=this._getCheckCallback(e,i);o=o?t.getValidColor(o):[1,0,0],this.domColor=document.createElement("div"),this.domColor.className="gui-widget-color",this.domInputColor=document.createElement("input"),this.domPopup=document.createElement("div"),this.domHue=document.createElement("div"),this.domHue.className="gui-color-hue",this.domHueKnob=document.createElement("div"),this.domHueKnob.className="gui-knob-hue",this.domSaturation=document.createElement("div"),this.domSaturation.className="gui-color-saturation";var s=document.createElement("div");this.domSaturation.appendChild(s),this.domSaturationKnob=document.createElement("div"),this.domSaturationKnob.className="gui-knob-saturation",this.domHue.appendChild(this.domHueKnob),this.domPopup.appendChild(this.domSaturationKnob),this.domPopup.appendChild(this.domSaturation),this.domPopup.appendChild(this.domHue),this.domColor.appendChild(this.domInputColor),this.domColor.appendChild(this.domPopup),this._hueGradient(this.domHue),this._linearGradient(s,"top","rgba(0,0,0,0)","#000"),this.domColor.addEventListener("keydown",this._onInputDown.bind(this)),this.domSaturation.addEventListener("mousedown",this._onSaturationDown.bind(this)),this.domHue.addEventListener("mousedown",this._onHueDown.bind(this)),window.addEventListener("mouseup",this._onMouseUp.bind(this)),window.addEventListener("mouseout",this._onMouseUp.bind(this)),window.addEventListener("mousemove",this._onMouseMove.bind(this)),this.editHue=this.editSaturation=!1,this.saturationWidth=this.saturationHeight=this.hueHeight=100,this.setValue(o),this.setCallback(n)};return o.prototype={_onInputDown:function(e){e.stopPropagation(),13===e.keyCode&&this.setValue(t.hexToRgb(e.target.value))},_onUpdateSaturation:function(e){var i=this.domSaturation.getBoundingClientRect(),o=t.rgbToHsv(this.getValue());o[1]=Math.min(1,Math.max(0,(e.clientX-i.left)/i.width)),o[2]=Math.min(1,Math.max(0,1-(e.clientY-i.top)/i.width)),this.setValue(t.hsvToRgb(o),!1,!0),this._onSaturationEdit(o)},_onUpdateHue:function(e){var i=this.domHue.getBoundingClientRect(),o=t.rgbToHsv(this.getValue());o[0]=Math.min(1,Math.max(0,1-(e.clientY-i.top)/i.height)),this.setValue(t.hsvToRgb(o),!1,!0),this._onHueEdit(o)},_onSaturationEdit:function(t){this.domSaturationKnob.style.marginLeft=this.saturationWidth*t[1]-7+"px",this.domSaturationKnob.style.marginTop=this.saturationHeight*(1-t[2])-7+"px"},_onHueEdit:function(e){e[1]=e[2]=1,this._linearGradient(this.domSaturation,"left","#fff",t.getStrColor(t.hsvToRgb(e))),this.domHueKnob.style.marginTop=(1-e[0])*this.hueHeight+"px"},_onMouseMove:function(t){return this.editSaturation||this.editHue?this.editSaturation?this._onUpdateSaturation(t):this._onUpdateHue(t):void 0},_onSaturationDown:function(t){this.editSaturation=!0,this._onMouseMove(t)},_onHueDown:function(t){this.editHue=!0,this._onMouseMove(t)},_onMouseUp:function(){this.editHue=this.editSaturation=!1},_hueGradient:function(t){t.style.background="";for(var e=0,o=i.length;o>e;++e)t.style.cssText+="background: "+i[e]+"linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);"},_linearGradient:function(t,e,o,n){t.style.background="";for(var s=0,a=i.length;a>s;++s)t.style.cssText+="background: "+i[s]+"linear-gradient("+e+", "+o+" 0%, "+n+" 100%);"},setValue:function(e,i,o){var n=t.rgbToHex(e);this.domInputColor.value=this.domInputColor.style.background=n;var s=t.rgbToHsv(e);this.domInputColor.style.color=this.domSaturationKnob.style.borderColor=s[2]<.5||s[1]>.5?"#fff":"#000",o||(this._onSaturationEdit(s),this._onHueEdit(s)),!i&&this.callback&&this.callback(e)},getValue:function(){return t.hexToRgb(this.domInputColor.value)}},t.makeProxy(e,o),o}),i("widgets/Combobox",["utils/GuiUtils","widgets/BaseWidget"],function(t,e){var i=function(t,e,i){var o=this._getInitialValue(t,e),n=this._getCheckCallback(t,e);i=i||{},o=o||i[0],this.domSelect=document.createElement("select"),this.domSelect.className="gui-select",this.addOptions(i),this.domSelect.addEventListener("change",this._onChange.bind(this)),this.setValue(o),this.setCallback(n)};return i.prototype={_onChange:function(t){this.setValue(t.target.value)},addOptions:function(t){for(var e=Object.keys(t),i=0;i<e.length;++i){var o=document.createElement("option");o.innerHTML=t[e[i]],o.value=e[i],this.domSelect.appendChild(o)}},setValue:function(t,e){this.domSelect.value=t,!e&&this.callback&&this.callback(t)},getValue:function(){return this.domSelect.value}},t.makeProxy(e,i),i}),i("widgets/Slider",["utils/GuiUtils","widgets/BaseWidget"],function(t,e){var i=function(t,e,i,o,n){var s=this._getInitialValue(t,e),a=this._getCheckCallback(t,e);s=void 0!==s?s:100,i=void 0!==i?i:0,o=void 0!==o?o:200,n=void 0!==n?n:1,this.domSlider=document.createElement("div"),this.domSlider.className="gui-slider",this.domSliderFill=document.createElement("div"),this.domSlider.appendChild(this.domSliderFill),this.domInputText=document.createElement("input"),this.domInputText.className="gui-input-number",this.domInputText.type="number",this.min=this.domInputText.min=i,this.max=this.domInputText.max=o,this.step=this.domInputText.step=n,this.domInputText.addEventListener("keydown",this._onKeyDown.bind(this)),this.domInputText.addEventListener("change",this._onInputText.bind(this)),this.domInputText.addEventListener("blur",this._onInputText.bind(this)),this.domSlider.addEventListener("mousedown",this._onMouseDown.bind(this)),window.addEventListener("mouseup",this._onMouseUp.bind(this),!0),window.addEventListener("mousemove",this._onMouseMove.bind(this)),this.lastValue=s,this.isDown=!1,this.setValue(s),this.setCallback(a)};return i.prototype={_onInputText:function(t){var e=parseFloat(t.target.value);e===e&&e!==this.lastValue&&this.setValue(e)},_onKeyDown:function(t){t.stopPropagation(),13===t.which&&this.domInputText.blur()},_onMouseMove:function(t){if(t.preventDefault(),this.isDown){var e=this.domSlider.getBoundingClientRect(),i=this.min+(this.max-this.min)*((t.clientX-e.left)/e.width);this.setValue(i)}},_onMouseDown:function(t){this.isDown=!0,this._onMouseMove(t)},_onMouseUp:function(){this.isDown=!1},_setDomContainer:function(t){this.domContainer=t},getValue:function(){return parseFloat(this.domInputText.value)},setValue:function(t,e){this.lastValue=t,t=Math.max(Math.min(t,this.max),this.min),t=Math.round(t/this.step)*this.step,this.domInputText.value=t;var i=this.min;this.max!==this.min&&(i=(t-this.min)/(this.max-this.min)),this.domSliderFill.style.width=100*i+"%",!e&&this.callback&&this.callback(t)},setMax:function(t){return this.domInputText.max=this.max=t,this},setMin:function(t){return this.min=t,this}},t.makeProxy(e,i),i}),i("widgets/Title",["utils/GuiUtils","widgets/BaseWidget"],function(t,e){var i=function(t){this.domText=document.createElement("div"),this.domText.innerHTML=t||"",this.domText.className="group-title"};return i.prototype={setText:function(t){this.domText.innerHTML=t},setVisibility:function(t){this.domText.hidden=!t}},t.makeProxy(e,i),i}),i("containers/BaseContainer",["widgets/BaseWidget","widgets/Button","widgets/Checkbox","widgets/Color","widgets/Combobox","widgets/Slider","widgets/Title"],function(t,e,i,o,n,s,a){var r=function(){};return r.prototype={_addLine:function(t){var e=document.createElement("li");return e.innerHTML=t||"",this.domUl.appendChild(e),e},_createLabel:function(t){var e=document.createElement("label");return e.className="gui-label-side",e.innerHTML=t||"",e},_setDomContainer:function(t){this.domContainer=t},addTitle:function(t){var e=new a(t);return this.domUl.appendChild(e.domText),e},addCheckbox:function(t,e,o){var n=new i(e,o),s=this._addLine();s.className+=" gui-pointerOnHover gui-glowOnHover";var a=this._createLabel(t);return a.style.overflow="visible",a.className+=" gui-pointerOnHover",s.appendChild(a),s.appendChild(n.domCheckbox),s.appendChild(n.domLabelCheckbox),s.addEventListener("mousedown",n._onMouseDown.bind(n)),n._setDomContainer(s),n},addCombobox:function(t,e,i,o){var s=new n(e,i,o),a=this._addLine();return t?a.appendChild(this._createLabel(t)):s.domSelect.style.width="100%",a.appendChild(s.domSelect),s._setDomContainer(a),s},addSlider:function(t,e,i,o,n,a){var r=new s(e,i,o,n,a),d=this._addLine();return t&&d.appendChild(this._createLabel(t)),d.appendChild(r.domInputText),d.appendChild(r.domSlider),r._setDomContainer(d),r},addColor:function(t,e,i){var n=new o(e,i),s=this._addLine();return t?s.appendChild(this._createLabel(t)):n.domColor.style.width="100%",s.appendChild(n.domColor),n._setDomContainer(s),n},addButton:function(t,i,o){var n=new e(t,i,o),s=this._addLine();return s.appendChild(n.domButton),n._setDomContainer(s),n},addDualButton:function(t,i,o,n,s,a){var r=new e(t,o,s),d=new e(i,n,a),u=this._addLine();u.appendChild(d.domButton),u.appendChild(r.domButton);var h=r.domButton.style,l=d.domButton.style;return h.width=l.width="49%",h.marginRight=l.marginLeft="1%",r._setDomContainer(u),d._setDomContainer(u),[r,d]},setVisibility:function(t){this.domContainer&&(this.domContainer.hidden=!t)}},r}),i("containers/Folder",["utils/GuiUtils","containers/BaseContainer"],function(t,e){var i=function(t){this.domUl=document.createElement("ul"),this.domUl.setAttribute("opened",!0);var e=document.createElement("label");e.innerHTML=t||"",e.addEventListener("mousedown",this._onMouseDown.bind(this)),this.domUl.appendChild(e),this.isOpen=!0};return i.prototype={_onMouseDown:function(){this.isOpen=!this.isOpen,this.domUl.setAttribute("opened",this.isOpen)},open:function(){this.isOpen=!0,this.domUl.setAttribute("opened",!0)},close:function(){this.isOpen=!1,this.domUl.setAttribute("opened",!1)},setVisibility:function(t){t||this.close(),this.domUl.style.height=t?"35px":"0px"}},t.makeProxy(e,i),i}),i("containers/Sidebar",["containers/Folder"],function(t){var e=function(t){this.domSidebar=document.createElement("div"),this.domSidebar.className="gui-sidebar",this.domResize=document.createElement("div"),this.domResize.className="gui-resize",this.isDragging=!1,this.mouseX=0,this.domResize.addEventListener("mousedown",this._onMouseDown.bind(this)),window.addEventListener("mousemove",this._onMouseMove.bind(this)),window.addEventListener("mouseup",this._onMouseUp.bind(this)),this.callbackResize=t,this.isOnTheRight=!1};return e.prototype={_setTop:function(t){this.domSidebar.style.top=this.domResize.style.top=t+"px"},_onTheRight:function(){this.isOnTheRight=!0,this.domSidebar.style.right=0,this.domSidebar.style.borderRight=0,this.domSidebar.style.borderLeft="double",this.domSidebar.style.borderColor="rgba(255,255,255,0.3)",this.domResize.style.left="auto",this.domResize.style.right=this.domSidebar.offsetWidth+"px",this.domResize.style.marginRight="-3px"},_onMouseDown:function(t){this.isDragging=!0,this.mouseX=t.clientX},_updateCanvasPosition:function(t){if(!this.domSidebar.hidden){var e=this.domSidebar.offsetWidth;this.isOnTheRight?t.width-=e:(t.style.left=this.domSidebar.offsetLeft+e+"px",t.width-=e)}},_onMouseMove:function(t){if(this.isDragging!==!1){var e=t.clientX,i=e-this.mouseX;this.isOnTheRight&&(i=-i);var o=Math.max(50,this.domSidebar.offsetWidth+i),n=o+"px";this.domSidebar.style.width=n,this.isOnTheRight?this.domResize.style.right=this.domSidebar.offsetWidth+"px":this.domResize.style.left=n,this.mouseX=e,this.callbackResize()}},_onMouseUp:function(){this.isDragging=!1},setCallbackOnResize:function(t){this.callbackResize=t},addMenu:function(e){var i=new t(e);return this.domSidebar.appendChild(i.domUl),i},setVisibility:function(t){this.domSidebar.hidden=!t,this.callbackResize()}},e}),i("widgets/MenuButton",["utils/GuiUtils","widgets/BaseWidget"],function(t,e){var i=function(t,e,i){var o=t;o&&"function"!=typeof o?o=t[e].bind(t):i=e,this.domSpan=document.createElement("span"),this.domSpan.className="shortcut",this.domSpan.innerHTML=i||"",this.setCallback(o)};return i.prototype={_setDomContainer:function(t){this.domContainer=t,t.addEventListener("click",this._onClick.bind(this))},_onClick:function(){this.callback&&this.callback()}},t.makeProxy(e,i),i}),i("containers/Menu",["utils/GuiUtils","containers/BaseContainer","widgets/MenuButton"],function(t,e,i){var o=function(){this.domUl=document.createElement("ul")};return o.prototype={addButton:function(t,e,o,n){var s=new i(e,o,n),a=this._addLine(t);return a.appendChild(s.domSpan),s._setDomContainer(a),s},addSlider:function(t,i,o,n,s,a){var r=e.prototype.addSlider.call(this,t,i,o,n,s,a);return r.domInputText.style.width="18%",r.domSlider.style.width=t?"44%":"80%",r}},t.makeProxy(e,o),o}),i("utils/EditStyle",["utils/GuiUtils"],function(t){var e={};e.refRules={};var i=function(t,i,o){var n=document.styleSheets[document.styleSheets.length-1],s=n.cssRules||n.rules,a=e.refRules[t];if(!a){var r=0,d=s.length;for(r=0;d>r&&s[r].selectorText!==t;++r);if(r===d)return!1;a=e.refRules[t]=s[r]}return a&&(a.style[i]=o),!0};return e.changeWidgetsColor=function(o){var n=t.getStrColor(o);i(".gui-button","background",n),i(".gui-select","background",n),i(".gui-slider > div","background",n),e._curWidgetColor=o},e.changeDisplayBoorder=function(t){var o=t?"1px solid #000":"0";i(".gui-button","border",o),i(".gui-select","border",o),i(".gui-slider","border",o),i(".gui-input-number","border",o),i(".gui-sidebar > ul > label","borderTop",o),i(".gui-sidebar > ul > label","borderBottom",o),i(".gui-sidebar","borderLeft",o),i(".gui-sidebar","borderRight",o),i(".gui-topbar","borderBottom",o),e._curShowBorder=t},e.changeBackgroundColor=function(o){i(".gui-sidebar","background",t.getStrColor(o));var n=t.getStrColor(t.getColorMult(o,.5));i(".gui-topbar","background",n),i(".gui-topbar ul > li > ul","background",n),e._curBackgroundColor=o},e.changeTextColor=function(o){var n=t.getStrColor(o);i("*","color",n),i(".gui-sidebar > ul > label","color",n),e._curTextColor=o},e.changeOverallColor=function(i){e.changeWidgetsColor(i);var o=t.getColorMult(i,.5);e.changeBackgroundColor(o);for(var n=t.getColorAdd(i,.5),s=0;3>s;++s)n[s]=Math.min(.8,n[s]);e.changeTextColor(n),e._curWidgetColor=i,e._curBackgroundColor=o,e._curTextColor=n},e._curTextColor=[.73,.73,.73],e._curWidgetColor=[.32,.37,.39],e._curBackgroundColor=[.24,.24,.24],e._curShowBorder=!1,e.changeOverallColor([.3,.34,.4]),e}),i("containers/Topbar",["containers/Menu","utils/EditStyle"],function(t,e){var i=function(t){this.domTopbar=document.createElement("div"),this.domTopbar.className="gui-topbar",this.domUl=document.createElement("ul"),this.domTopbar.appendChild(this.domUl),this.callbackResize=t,this.uiExtra={}};return i.prototype={_updateCanvasPosition:function(t){if(!this.domTopbar.hidden){var e=this.domTopbar.offsetHeight;t.style.top=e+"px",t.height-=e}},_onChangeColor:function(t,i){t(i),this.uiExtra.overallColor.setValue(e._curWidgetColor,!0),this.uiExtra.widgetColor.setValue(e._curWidgetColor,!0),this.uiExtra.backColor.setValue(e._curBackgroundColor,!0),this.uiExtra.textColor.setValue(e._curTextColor,!0)},addMenu:function(e){var i=new t,o=document.createElement("li");return o.innerHTML=e||"",this.domUl.appendChild(o),o.appendChild(i.domUl),i._setDomContainer(o),i},addExtra:function(){var t=this._onChangeColor,i=this.addMenu("Extra UI"),o=this.uiExtra;return i.addTitle("Overall"),o.overallColor=i.addColor("",e._curWidgetColor,t.bind(this,e.changeOverallColor)),i.addTitle("Advanced"),o.widgetColor=i.addColor("Widget",e._curWidgetColor,t.bind(this,e.changeWidgetsColor)),o.backColor=i.addColor("Back",e._curBackgroundColor,t.bind(this,e.changeBackgroundColor)),o.textColor=i.addColor("Text",e._curTextColor,t.bind(this,e.changeTextColor)),o.showBorder=i.addCheckbox("Border",e._curShowBorder,e.changeDisplayBoorder),i},setVisibility:function(t){this.domTopbar.hidden=!t,this.callbackResize()}},i}),i("GuiMain",["containers/Sidebar","containers/Topbar"],function(t,e){var i=function(t,e){this.domMain=document.createElement("div"),this.domCanvas=t,this.callbackResize=e,this.domCanvas&&(this.domCanvas.width=window.innerWidth,this.domCanvas.height=window.innerHeight),this.cbResize_=this._onWindowResize.bind(this),document.body.appendChild(this.domMain),this.leftSidebar=void 0,this.rightSidebar=void 0,this.topbar=void 0,window.addEventListener("resize",this._onWindowResize.bind(this),!1)};return i.prototype={_onWindowResize:function(){this.domCanvas&&(this.domCanvas.width=window.innerWidth,this.domCanvas.height=window.innerHeight,this.domCanvas.left=0,this.domCanvas.top=0,this.leftSidebar&&this.leftSidebar._updateCanvasPosition(this.domCanvas),this.rightSidebar&&this.rightSidebar._updateCanvasPosition(this.domCanvas),this.topbar&&this.topbar._updateCanvasPosition(this.domCanvas)),this.callbackResize&&this.callbackResize()},_updateSidebarsPosition:function(){if(this.topbar){var t=this.topbar.domTopbar.offsetHeight;this.leftSidebar&&this.leftSidebar._setTop(t),this.rightSidebar&&this.rightSidebar._setTop(t)}},addLeftSidebar:function(){this.leftSidebar=new t(this.cbResize_);var e=this.leftSidebar.domSidebar;return this.domMain.appendChild(e),this.domMain.appendChild(this.leftSidebar.domResize),this._updateSidebarsPosition(),this.leftSidebar._updateCanvasPosition(this.domCanvas),this.leftSidebar},addRightSidebar:function(){this.rightSidebar=new t(this.cbResize_);var e=this.rightSidebar.domSidebar;return this.domMain.appendChild(e),this.domMain.appendChild(this.rightSidebar.domResize),this.rightSidebar._onTheRight(),this._updateSidebarsPosition(),this.rightSidebar._updateCanvasPosition(this.domCanvas),this.rightSidebar},addTopbar:function(){return this.topbar=new e(this.cbResize_),this.domMain.appendChild(this.topbar.domTopbar),this._updateSidebarsPosition(),this.topbar._updateCanvasPosition(this.domCanvas),this.topbar},setVisibility:function(t){this.domMain.hidden=!t,this._onWindowResize()}},i}),i("yagui",["GuiMain"],function(t){var e={};return e.GuiMain=t,window.yagui=e,e}),e("yagui")}();